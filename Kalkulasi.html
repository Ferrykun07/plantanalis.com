<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulasi dan Prediksi</title>
    <link rel="icon" href="gambar/pngwing.com (1).png">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<style>

    body{
        height: auto;
        margin: 0%;
        width: 100%;
    }

    .login a{
        position: absolute;
        padding-top: 1.11vw;
        font-size: 1.48vw;
        top: 1.48vw;
        right: 2.22vw;
        color: antiquewhite;
    }
    
    .login a:hover {
        color:white;
    }
    .icon{
        width: 7.41%;
        height: auto;
        position: absolute;
        top: 0px;
        left: 0%;
        margin: 1.481%;
        z-index: 4;
    }
    .title{
        position: absolute;
        font-size: 2.93vw;
        margin-top: 3.9%;
        margin-left: 8.896%;
        color: wheat;
    }
    .title a{
        text-decoration: none;
        color: wheat;
    }
    .header{
        width: 100%;
        height: 10.37vw;
        top: 0%;
        background: linear-gradient(to bottom, rgba(0, 128, 0,8),rgba(72, 110, 72,1));
        position: absolute;
        z-index: 2;
        
    }  
    .nav-search{
        display: flex;
        width: 100%;
        margin-top: 10.37vw;
        background-color: rgb(255, 255, 255);
        border-bottom: 0.14vw solid rgb(214, 207, 207);
        height: auto;
        box-shadow: 0.14vw 0.28vw 0.28vw rgba(0, 0, 0, 0.1);
    }
    .back{
        background-color: rgba(255, 255, 255, 0.8);
        margin-top: 1.48vw;
        margin-bottom: 1.48vw;
        margin-left: 1.48vw;
        padding: 0.88vw;
        border: 0.07vw solid rgb(167, 160, 160);
        font-size: 1.48vw;
        text-align: center;
        float: left;
        align-self: flex-start;
        text-decoration: none;
    }
    .query{
        border: 0px;
        background-color: rgba(246, 245, 250, 0.5);
        border: 0.28vw solid rgb(161, 157, 157);
        width: 29.65vw;
        height: 3.33vw;
        margin: 1.48vw;
        font-size: 2.22vw;
        margin-left: 29.65vw;
    }
    .query:hover{
        border: 0px;
        background-color: rgba(246, 245, 250, 0.5);
        border: 0.28vw solid rgb(223, 213, 213);
        width: 29.65vw;
        height: 3.33vw;
        margin: 1.48vw;
        font-size: 2.22vw;
        margin-left: 29.65vw;
    }
    .button{
        background-color: rgba(3, 199, 134, 0.8);
        width: 4.44vw;
        margin-top: 1.48vw;
        margin-bottom: 1.48vw;
        padding: 0.88vw;
        font-size: 1.48vw;
        text-align: center;
        transition: color;
    }
    .button:hover  {
        background-color: rgba(40, 139, 106, 0.8);
    }
    .button a{
        text-decoration: none;
        color: black;
    }

    nav {
        margin-left: 33.35vw;
        display: flex;
        position: absolute;
        z-index: 2;
        top: 5.96vw;
        right: 0%;
        
    }
    nav>ul{
        margin-top: 0.431vw;
        padding: 2.23vw;
        padding-top: 0.23vw;
    }
    nav ul>a{
        color: antiquewhite;
        font-size: 1.482vw;
    
    }
    nav ul a:hover{
        color: white;
    }
    .content{

        margin: 1.48vw;
        display: grid;
        grid-template-areas: "kalkulasi kalkulasi"
                             "prediksi prediksi";
        row-gap: 2vw;
        grid-template-columns: 50% 50%;
        grid-template-rows: 30vw fit-content;
        height: fit-content;
    }
    .kalkulasi , .prediksi{
        box-shadow: 0.14vw 0.28vw 0.28vw rgba(0, 0, 0, 0.1);
        background-color: rgb(247, 242, 242);
    }
    .kalkulasi{
        grid-area: kalkulasi;
        height: 30vw;
        border-radius: 2vw;
        display: grid;
        grid-template-areas: "h3 h3"
                             "selectnamekalkulasi selectnamekalkulasi";
        grid-template-rows: 7vw 7vw 5.25vw ;
        grid-template-columns: 40% 60%;

        
                                                                    /*prediksi*/
    }
    .kalkulasi h3{
        grid-area: h3;
        padding: 2vw;
        font-size: 3vw;
        margin: 0%;
        color: rgb(31, 30, 30);
        background:linear-gradient(to right , rgb(168, 228, 168), rgb(150, 223, 150)) ;
        background-clip: padding-box;
        box-sizing: border-box;
        border-top-left-radius: inherit;
        border-top-right-radius: inherit;
        font-family: Arial, Helvetica, sans-serif;
    }
    .prediksi{
        border-radius: 2vw;
        grid-area: prediksi;
        padding: 0%;
        display: grid;
        grid-template-areas: "h3 h3"
                             "selecttanaman notifprediksi"
                             "tanggaltanam notifprediksi"
                             "cahaya tableresultprediksi"
                             "suhu tableresultprediksi"
                             "nutrisi tableresultprediksi"
                             "kelembapan tableresultprediksi"
                             "button tableresultprediksi"
                             "none none";
        grid-template-rows: 7vw 7vw 5.25vw 5.25vw 5.25vw 5.25vw 5.25vw 3.25vw 5vw 5vw;
        grid-template-columns: 40% 60%;
    }
    .tanggaltanam{
        margin-left: 3vw;
        padding: 1vw;
        padding-left: 0%;
    }
    .prediksi h3{
        
        padding: 2vw;
        font-size: 3vw;
        margin: 0%;
        grid-area: h3;
        color: rgb(31, 30, 30);
        background:linear-gradient(to right , rgb(168, 228, 168), rgb(150, 223, 150)) ;
        background-clip: padding-box;
        box-sizing: border-box;
        border-top-left-radius: inherit;
        border-top-right-radius: inherit;
        font-family: Arial, Helvetica, sans-serif;
    }
    .prediksi div>p, .prediksi div>label, .prediksi div>input, .prediksi div>button{
        font-size: 1.4vw;
        font-family: Arial, Helvetica, sans-serif;
    }
    .prediksi div>input{
        text-align: center;
        font-size: 1.5vw;
    }
    .suhu{
        grid-area: suhu;
        margin-left: 3vw;
        padding: 1vw;
        padding-left: 0vw;
    }
    .cahaya{
        grid-area: cahaya;
        margin-left: 3vw;
        padding: 1vw;
        padding-left: 0%;
    }
    .nutrisi{
        grid-area: nutrisi;
        margin-left: 3vw;
        padding: 1vw;
        padding-left: 0vw;
    }
    .kelembapan{
        grid-area: kelembapan;
        margin-left: 3vw;
        padding: 1vw;
        padding-left: 0vw;
    }
    .prediksi div> input{
        text-align: center;
        border: 0vw;
        outline: 0.1vw solid rgba(128, 128, 128,0.2);
        margin-right: 0.3vw;
    }
    
    .input{
        margin-left: 2vw ;
        width: 5vw;
        padding: 0.4vw;
        border-radius: 0.5vw;
        border: 0.1vw solid rgba(0, 0, 0, 0.1);
    }
    label{
        font-size: 1.5vw;
    }
    table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: auto;
        min-width: 30vw;
        max-width: 55vw;
        margin-bottom: 5vw;

    }
    tr:nth-child(1n-1):hover{
        background-color:antiquewhite;
    }
    tr::after{
        content: "";
        background-color: yellowgreen;
    }
    td, th {
        border: 0.1vw solid #dddddd;
        text-align: center;
        padding: 0.6vw;

    }
    th{
        background-color: rgb(187, 243, 243);
        padding: 0.6vw;
        height: 3vw;
        font-size: 1.4vw;
    }
    tr:nth-child(1){
        height: 3vw;
        padding: 0%;
    }
    td{
        
        border-style: dashed;
        height: 2vw;
        font-size: 1.2vw;
    }
    tr {
        background-color: #fcf8f8;
    }
    tr:nth-child(even)::after{
        background-color: yellow;
    }
    tr td:nth-child(5){
        background-color: yellow;
        
    }
    .prediksi button:hover{
        background-color: rgb(131, 214, 131);
    }

    .footer{
        background-color: rgb(39, 36, 36);
        
    }
    .footer>.gambar{
        justify-content: center;
        display: flex;
        
    }
    
    .footer .gambar a{
        background-color: rgb(255, 255, 255);
        padding: 1.48vw;
        border-radius: 100%;
        background-color: #d7eedd;
        align-items: center;
        display: flex;
        margin: 1.48vw;
        margin-top: 2.223vw;

    }
    .footer .gambar a>img{
        width: 1.85vw;
        height: 1.85vw;
    }
    .overlay{
        width: 100%;
        min-height: 100%;
        background-color: rgba(0, 0, 0, 0.2);
        backdrop-filter: blur(2px);
        position: fixed;
        align-items: center;
        justify-content: center;
        z-index: 59;
        top:0vw;
        display: none;

    }
    .alert1{
        top: 20vw;
        width:22.22vw;
        height: 11.11vw;
        position:absolute;
        border-radius: 1.11vw;
        background-color: rgb(255, 255, 255);
        z-index: 6;
        padding: 1.11vw;
        font-size: 1.11vw;
        font-family: Arial, Helvetica, sans-serif;
        box-shadow: 0px 10px 2.96vw rgb(0, 0, 0,0.3);
        display: none;
    }
    .alert1 div:nth-child(3){
        width: 4.44VW;
        height: 1.11VW;
        right: 0%;
        bottom: 0%;
        padding: 1.11VW;
        text-align: center;
        position: absolute;
        margin: 1.11VW;
        background-color: rgb(193, 216, 158);
        z-index: 6;
        font-size: 1.11VW;
        border-radius: 100px;
        border:  0.14vw solid gray;
        cursor: pointer;
    }
    .alert1 div:nth-child(2){
        width: 4.44VW;
        height: 1.11vw;
        right: 0%;
        bottom: 0%;
        padding: 1.11VW;
        text-align: center;
        position: absolute;
        margin: 1.11VW;
        margin-right: 10.37vw;
        background-color: rgb(255, 255, 255);
        z-index: 6;
        font-size: 1.11VW;
        border-radius: 100px;
        border: 0.14vw solid gray;
        cursor: pointer;
    }
    .alert1 div:nth-child(3):hover{
        width: 4.44VW;
        height: 1.11VW;
        right: 0%;
        bottom: 0%;
        padding: 1.11VW;
        text-align: center;
        position: absolute;
        margin: 1.11VW;
        background-color: rgb(193, 216, 158);
        z-index: 6;
        font-size: 1.11VW;
        border-radius: 100px;
        border:  0.14vw solid rgb(190, 189, 189);
        cursor: pointer;
    }
    .alert1 div:nth-child(2):hover{
        width: 4.44VW;
        height: 1.11VW;
        right: 0%;
        bottom: 0%;
        padding: 1.11VW;
        text-align: center;
        position: absolute;
        margin: 1.11VW;
        margin-right: 10.37vw;
        background-color: rgb(255, 255, 255);
        z-index: 6;
        font-size: 1.11VW;
        border-radius: 100px;
        border: 0.14vw solid  rgb(190, 189, 189);
        cursor: pointer;
    }    
    .prediksi button{
        background-color: rgb(109, 189, 109);
        border-radius: 4vw ;
        padding: 2vw;
        padding-top: 1vw;
        padding-bottom: 1vw;
        width: fit-content;
        font-size: 1.1vw;
        border: 0ch;
    }
 
    @media screen and (min-height : 95vw){
        .content{
            height: auto;
            min-height: calc(100vh - 30vw);
        }
    }
    #notifprediksi{
        background-color: rgb(247, 242, 242);
        margin-top: 2vw;
        width:var(tableresultprediksi) ;
        line-height: 1.7vw;
        font-size: 1vw;
        color: red;
        height: auto;
        
    }
    
</style>
</head>
<body>
    <div class="overlay">
        <div class="alert1">
            <span>Apa anda yakin ingin keluar?</span>
            <div class="button-notif">Ya</div>
            <div class="button-notif">Tidak</div>
        </div>
    </div>
    <a href="home"><img class="icon" src="gambar/pngwing.com (1).png" alt=""></a>
    <div class="header">
        <div class="title"><a href="home">Plantanalis</a></div>
        <div class="login"><a class="loged"  href="Login" style="text-decoration: none;">Login</a></div>
        <div class="login"><a class="logout" type="submit" style="text-decoration: none;cursor: 
        pointer;">Logout</a></div>
        <nav>
            <ul><a href="favorit"  style="text-decoration: none; display :flex" class="log">Tanaman Favorit </a></ul>
            <ul><a href="kalkulasi"  style="text-decoration: none; display :flex">Kalkulasi & Prediksi</a></ul>
            <ul><a href="list_tanaman"  style="text-decoration: none; display :flex">List Tanaman</a></ul>
            <ul><a href="rekomendasi"  style="text-decoration: none; display :flex">Rekomendasi</a></ul>
        </nav>
    </div>
        <div class="nav-search">
            <a href="home" class="back">Kembali</a>
            
        </div>
    <div class="content">
        <div class="kalkulasi">
            <h3>Kalkulasi Panen</h3>

            <div id="seleckkalkulasi" style="grid-area:selectnamekalkulasi;margin: 3vw;" >
                <label for="selectnamekalkulasi">Pilih jenis perhitungan</label>
                <select name="selectnamekalkulasi" class="input" id="selectnamekalkulasi" style="font-size: 1.4vw;padding: 0.4vw;width: fit-content;">  <!-- nama tanaman dalam database -->                
                   <option value="">Cara</option>
                </select>
            </div>
            <input type="number" id="inputnilai">
            <input type="number" id="inputnilai2">
            <div id="result"></div>
        </div>
        <div class="prediksi">
            <h3>Prediksi Panen</h3>
            <div class="selecttanaman" style="grid-area: selecttanaman;width: fit-content;margin-left: 3vw;margin-top: 3vw;">
                <label for="selectnameprediksi">Pilih Tanaman</label>
                <select id="selectnameprediksi" class="input" name="" placeholder="Pilih" style="font-size: 1.4vw;padding: 0.4vw;width: fit-content;"  >  <!-- nama tanaman dalam database -->                
                    
                </select>
            </div>
            <div class="tanggaltanam" style="grid-area:tanggaltanam ;margin-bottom: 0%;">
                <label for="tanggaltanam">Tanggal Penanaman </label>
                <input style="margin-left: 2vw;" type="date" id="tanggaltanam">
                <label for="tanggaltanam" style="background-color: #ffffff;border: 0.1vw solid rgb(236, 231, 231);padding: 0.2vw;cursor: pointer;" onclick="timenow()">Now</label>
            </div>
            <div class="suhu"> 
                <label for="suhu">kualitas suhu rata-rata / hari :</label>
                <input type="number" id="suhu" class="input" min="0" max="100">
                <label for="suhu">%</label>
            </div>        
            <div class="kelembapan">
                <label for="kelembapan">kualitas kelembapan rata-rata :</label>
                <input type="number" id="kelembapan" class="input" min="0" max="100">
                <label for="kelembapan">%</label>
            </div>                
            <div class="cahaya">
                <label for="cahaya">kualitas cahaya rata-rata :</label>
                <input type="number" id="cahaya" class="input" min="0" max="100">
                <label for="cahaya">%</label>
            </div>                
            <div class="nutrisi">
                <label for="nutrisi">kualitas nutrisi rata-rata :</label>
                <input type="number" id="nutrisi" class="input" min="0" max="100">
                <label for="nutrisi">%</label>
            </div>                
            <button onclick="hitungprediksi()" style="margin-left: 3vw;grid-area: button;cursor: pointer;">Prediksi</button>
            <table style="border-collapse: collapse;grid-area: tableresultprediksi;" id="tableresultprediksi">
                <tr>
                    <th>Tanaman</th>
                    <th>Tanggal Penanaman</th>
                    <th>Prediksi Tanggal Panen</th>
                    <th>Status</th>
                    <th>Prediksi</th>
                </tr>
                <tr>
                    <td id="tanamanvalue"></td>
                    <td id="tanggaltanamvalue"></td>
                    <td id="tanggalpanenvalue"></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td id="tanamanvalue"></td>
                    <td id="tanggaltanamvalue"></td>
                    <td id="tanggalpanenvalue"></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td id="tanamanvalue"></td>
                    <td id="tanggaltanamvalue"></td>
                    <td id="tanggalpanenvalue"></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td id="tanamanvalue"></td>
                    <td id="tanggaltanamvalue"></td>
                    <td id="tanggalpanenvalue"></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td id="tanamanvalue"></td>
                    <td id="tanggaltanamvalue"></td>
                    <td id="tanggalpanenvalue"></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
            <div id="notifprediksi" style="grid-area: notifprediksi;"></div>
            <div id="result"></div>
        </div>
    </div>
    <div class="footer">
        <div class="gambar">
            <a href=""><img src="gambar/instagram.svg" alt=""></a>
            <a href=""><img src="gambar/twitter-x.svg" alt=""></a>
            <a href=""><img src="gambar/facebook.svg" alt=""></a>
        </div> <br>
        <div  style="font-size: 1.48vw; padding-bottom:2vw;color: aliceblue;text-align: center;">
          Copyright Â© 2023
        </div>
    </div>
</html>
<script>
    let login = localStorage.getItem("login");
    let logout = document.getElementsByClassName("logout")[0];
    let masuk = document.getElementsByClassName("loged")[0];
    let fav = document.getElementsByClassName("log")[0];
    let button = document.getElementsByClassName("button")[0];
    let overlay = document.getElementsByClassName("overlay")[0];
    let alert1 = document.getElementsByClassName("alert1")[0]; 
    let buttontidak = document.getElementsByClassName("button-notif")[1];
    let buttonya = document.getElementsByClassName("button-notif")[0];
    let selectprediksi = document.getElementById("selectnameprediksi")
    let suhuvalue = document.getElementById("suhu")
    let kelembapanvalue = document.getElementById("kelembapan")
    let cahayavalue = document.getElementById("cahaya")
    let nutrisivalue = document.getElementById("nutrisi").value
    let suhu = document.getElementById("suhu").value
    let kelembapan = document.getElementById("kelembapan").value
    let cahaya = document.getElementById("cahaya").value
    let nutrisi = document.getElementById("nutrisi").value
    let resultprediksi = document.getElementById("resultprediksi")

    let tanggaltanam = document.getElementById("tanggaltanam").value
    let maksumur 
    let umurpanen
    let statuserror = ""
    
function getname() {
    let selectnameprediksi = document.getElementById("selectnameprediksi")
    const request = "getname";
    $.ajax({
        url : "connection.php",
        type : "POST",
        data : {
            request : request
        }, success: function(response){
            console.log(response)
            let hasil = JSON.parse(response)
            if (hasil["status"] === "success"){
                console.log(hasil["nama"][0])
                selectnameprediksi.value = hasil["nama"][0]
                console.log(selectnameprediksi.nodeValue)
                console.log(selectnameprediksi.value + "kosong")
                selectprediksi.value = hasil["nama"][0] + "dwadwa"
                console.log(selectprediksi.value + "sa")
                getattribute(hasil["nama"][0])

                for (let index = 0; index < hasil["nama"].length; index++) {
                    selectprediksi.innerHTML += `<option value="${hasil["nama"][index]}">${hasil["nama"][index]}</option>`
                    console.log(hasil["nama"])
                }
            } else {

            }
        }
    })
}
function timenow(){
    const datenow =new Date()
    const tanggaltanam = document.getElementById("tanggaltanam")
    tanggaltanam.value = `${datenow.getFullYear()}-${padNumber(datenow.getMonth() + 1)}-${padNumber(datenow.getDate())}`;

}
function padNumber(number) {
    return number < 10 ? `0${number}` : number;
}
function hitungprediksi(){
    let statuserror = ""
    let suhu = parseFloat(document.getElementById("suhu").value)
    let kelembapan = parseFloat(document.getElementById("kelembapan").value )  
    let cahaya = parseFloat(document.getElementById("cahaya").value)              
    let nutrisi = parseFloat(document.getElementById("nutrisi").value)
    let tanggaltanam = document.getElementById("tanggaltanam").value
    let tanggalpanenvalue = document.getElementById("tanggalpanenvalue")
    let tanggaltanamvalue = document.getElementById("tanggaltanamvalue")
    let tanamanvalue = document.getElementById("tanamanvalue")
    let tableresultprediksi = document.getElementById("tableresultprediksi")
    let selectnameprediksi = document.getElementById("selectnameprediksi").value
    let koefisienprediksi = 0
    let notifprediksi = document.getElementById("notifprediksi")
    const divtanggaltanam = document.getElementById('tanggaltanam') 
    console.log(maksumur)
    console.log(umurpanen)
    console.log(suhu)
    const datetanggaltanam = new Date(tanggaltanam)
    statuserror = checkinput()
    if (datetanggaltanam.getFullYear() < 2000){
        notifprediksi.innerHTML += "Mohon masukan tahun tidak lebih dari 2000"
        divtanggaltanam.style.border = "0.1vw solid red"
        return 
    } else {
        divtanggaltanam.style.border = "border: 0.1vw solid rgba(0, 0, 0, 0.1);"
        console.log(datetanggaltanam + "date")
        koefisienprediksi = umurpanen / (((0.01 * 100) + (0.01 * 100) + (0.01 * 100) + (0.01 * 100)) / 4)
        console.log(koefisienprediksi)
        if (koefisienprediksi > maksumur){
            console.log(koefisienprediksi)
            console.log(tanggaltanam)
            console.log("Prediksi melebihi batas maksimal umur tanaman")       
            resultprediksi.innerHTML = "prediksi melebihi batas maksimal umur tanaman"  + tanggaltanam
        } if (koefisienprediksi < maksumur){
            console.log(tanggaltanam)
            koefisienprediksi -= 5
            prediksipanen = adddate(tanggaltanam, koefisienprediksi)
            console.log("berhasil" + prediksipanen)
            refreshtableprediksi()
            let num = 1
            for (let index = 0;  index < 5; index++) {
                console.log("looping")
                const settanggaltanam = new Date(tanggaltanam)
                settanggaltanam.setDate(settanggaltanam.getDate())
                const settt = settanggaltanam.toDateString()
                prediksipanen = adddate(prediksipanen, num)
                tableresultprediksi.innerHTML += `<tr>
                                                    <td>${selectnameprediksi}</td>
                                                    <td>${settt}</td>
                                                    <td>${prediksipanen}</td>
                                                    <td>Panen Buah</td>
                                                    <td>Sedang</td>
                                                 </tr>`
             
            }
        }
    }
}
function refreshtableprediksi(){
    let tableresultprediksi = document.getElementById("tableresultprediksi")
    tableresultprediksi.innerHTML = `<tr>
                                        <th>Tanaman</th>
                                        <th>Tanggal Penanaman</th>
                                        <th>Prediksi Tanggal Panen</th>
                                        <th>Status</th>
                                        <th>Prediksi</th>
                                    </tr>`
}
function adddate(date, adddate){
    const resultdate = new Date(date);
    resultdate.setDate(resultdate.getDate() + adddate);
    return resultdate.toDateString();
}
selectprediksi.addEventListener("change", function(){
    getattribute()
})
function getattribute(namaattribute){
    console.log("berhasil")
    let nama = selectprediksi.value
    const parameter = nama
    if (namaattribute !== ""){
        nama = namaattribute
    } if (isNaN(namaattribute)) {
        nama = selectprediksi.value
    }
    const request = "getattribute"
    $.ajax({
        url : "connection.php",
        type : "POST",
        data : {
            request : request,
            nama : nama
        }, success: function(response){
            console.log(response)
            let hasil = JSON.parse(response)
            if (hasil["status"] === "success"){
                attribute = JSON.parse(hasil["attribute"])
                maksumur = attribute["maksumur"]
                umurpanen = attribute["umurpanen"]
            } else {

            }
        }
    })
}
function check(){
    if (login==="true") {
        logout.style.display = "flex";
        masuk.style.display = "none";
        fav.style.display = "flex";
    } 
    else {
        logout.style.display = "none";
        masuk.style.display = "flex";
        fav.style.display = "none";
    }}
logout.addEventListener("click",function(){
    overlay.style.display = "flex";
    alert1.style.display = "flex";
    buttontidak.addEventListener("click", function(){
        overlay.style.display = "none";
        alert1.style.display = "none";
    })
    buttonya.addEventListener("click",function(){
        
        overlay.style.display = "none";
        alert1.style.display = "none";
        localStorage.setItem("login","false");
        localStorage.removeItem('accounts');
        login = localStorage.getItem("login");
        check();
    })
})
function checkinput(){
    let suhu = document.getElementById("suhu")
    let kelembapan = document.getElementById("kelembapan")
    let cahaya = document.getElementById("cahaya")
    let nutrisi = document.getElementById("nutrisi")
    const notifprediksi = document.getElementById("notifprediksi");
    let tanggaltanam = document.getElementById("tanggaltanam")
    let notiferror = ""
    let notifnan = ""
    let statuserror = ""
    let errordate = ""
    let chechkdate = new Date(tanggaltanam.value)
    borderrefresh()
    try {

        if (suhu.value > 100 || suhu.value < 0 )  {
            notiferror = "Mohon masukkan suhu dengan benar <br>";
            statuserror = "error"
            suhu.style.border = "0.1vw solid red"
        } if (isNaN(suhu.value) || suhu.value === ""){
            notifnan = "Mohon masukan angka"
            statuserror = "error"
            suhu.style.border = "0.1vw solid red"
        }

        if (cahaya.value > 100 || cahaya.value < 0 ){
            notiferror += "Mohon masukkan intensitas cahaya dengan benar <br>";
            statuserror = "error"
             cahaya.style.border = "0.1vw solid red"
        } if (isNaN(cahaya.value) || cahaya.value === ""){
            notifnan = "Mohon masukan angka"
            statuserror = "error"
             cahaya.style.border = "0.1vw solid red"
        }

        if (kelembapan.value > 100 || kelembapan.value < 0 ) {
            notiferror += "Mohon masukkan kelembapan dengan benar <br>";
            statuserror = "error"
            kelembapan.style.border = "0.1vw solid red"
        } if (isNaN(kelembapan.value) || kelembapan.value === ""){
            notifnan = "Mohon masukan angka"
            statuserror = "error"
            kelembapan.style.border = "0.1vw solid red"
        }

        if (nutrisi.value > 100 || nutrisi.value < 0 ) {
            notiferror += "Mohon masukkan nilai nutrisi dengan benar <br>";
            statuserror = "error"
            nutrisi.style.border = "0.1vw solid red"
        } if (isNaN(nutrisi.value) || nutrisi.value === ""){
            notifnan = "Mohon masukan angka"
            statuserror = "error"
            nutrisi.style.border = "0.1vw solid red"
        } if (tanggaltanam.value === NaN){
            notiferror += "Mohon masukan tanggal penanaman"
            tanggaltanam.style.border = "0.1vw solid red"
        }
        if (isNaN(chechkdate)){
            errordate = "<br> Mohon masukan tanggal penanaman "  
            tanggaltanam.style.border = "0.1vw solid red"
        }
        console.log("berhasil chechinput akhir" + tanggaltanam.value)
        notifprediksi.innerHTML = notiferror + notifnan + errordate ;
        return statuserror
    } catch (error) {
        
    }
}

function borderrefresh(){
    let tanggaltanam = document.getElementById("tanggaltanam")
    let suhu = document.getElementById("suhu")
    let kelembapan = document.getElementById("kelembapan")
    let cahaya = document.getElementById("cahaya")
    let nutrisi = document.getElementById("nutrisi")
    suhu.style.border = "0.1vw solid rgba(0, 0, 0, 0.1)"
    cahaya.style.border = "0.1vw solid rgba(0, 0, 0, 0.1)"
    kelembapan.style.border = "0.1vw solid rgba(0, 0, 0, 0.1)"
    nutrisi.style.border = "0.1vw solid rgba(0, 0, 0, 0.1)"
    tanggaltanam.style.border = "0.1vw solid rgba(0, 0, 0, 0.1)"
}

check()
getname()
</script>